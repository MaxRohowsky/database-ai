<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AI SQL Generator</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <button id="new-chat-btn" class="new-chat-btn">new chat</button>
        
        <div class="chat-history">
          <div class="history-title">History of previous chats</div>
          <div class="history-item">History of previous chats</div>
          <!-- More history items would be dynamically added here -->
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Header -->
        <header class="main-header">
          <h1>AI SQL Generator</h1>
          <div class="header-actions">
            <button id="delete-chat-btn" class="icon-btn" title="Delete current chat">üóëÔ∏è</button>
            <div class="status-info">
              This space is for general information e.g. connection status & data
              
              <!-- AI Model Selector Dropdown -->
              <div class="ai-model-selector">
                <div id="ai-model-status" class="ai-model-indicator dropdown-trigger">AI Model: OpenAI</div>
                <div class="connection-dropdown">
                  <div id="ai-model-list" class="dropdown-content">
                    <!-- AI model options will be added here dynamically -->
                  </div>
                  <div class="dropdown-footer">
                    <button id="configure-ai-btn" class="connection-btn">Configure AI Models</button>
                  </div>
                </div>
              </div>
              
              <!-- Database connection dropdown -->
              <div class="db-connection-selector">
                <div id="connection-status" class="status disconnected dropdown-trigger">Database: Disconnected</div>
                <div class="connection-dropdown">
                  <div id="database-list" class="dropdown-content">
                    <!-- Database connections will be added here dynamically -->
                  </div>
                  <div class="dropdown-footer">
                    <button id="add-connection-btn" class="connection-btn">Connect new database</button>
                  </div>
                </div>
              </div>
              <div id="schema-indicator" class="schema-status">No Schema Loaded</div>
            </div>
          </div>
        </header>

        <!-- Chat Area -->
        <div class="chat-container">
          <!-- Chat messages will appear here -->
          <div class="message sql-message">
            <div class="message-content">
              <h3>Generated SQL appears here in chat format</h3>
              <pre id="sql-output">-- SQL query will appear here --</pre>
              <button id="run-sql-btn" class="execute-btn" disabled>Execute</button>
            </div>
          </div>

          <div class="message result-message">
            <div class="message-content">
              <h3>Results after running query against the DB</h3>
              <div id="results-container">
                <div class="placeholder">Run a query to see results</div>
              </div>
            </div>
          </div>

          <div class="message sql-message">
            <div class="message-content">
              <h3>The next Generated SQL query</h3>
            </div>
          </div>
        </div>

        <!-- Input Area -->
        <div class="input-area">
          <div class="input-container">
            <textarea 
              id="natural-query" 
              placeholder="This is the area to enter the natural language query"></textarea>
            <button id="generate-btn" class="submit-btn">submit</button>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal for Database Connection -->
    <div id="connection-modal" class="modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2 id="modal-title">Connect to Database</h2>
        
        <form id="connection-form">
          <input type="hidden" id="connection-id" value="">
          
          <div class="form-group">
            <label for="connection-name">Connection Name:</label>
            <input type="text" id="connection-name" placeholder="My Database" required>
          </div>
          
          <div class="form-group">
            <label for="connection-host">Host:</label>
            <input type="text" id="connection-host" placeholder="localhost" required>
          </div>
          
          <div class="form-group">
            <label for="connection-port">Port:</label>
            <input type="number" id="connection-port" placeholder="5432" required>
          </div>
          
          <div class="form-group">
            <label for="connection-database">Database Name:</label>
            <input type="text" id="connection-database" placeholder="mydatabase" required>
          </div>
          
          <div class="form-group">
            <label for="connection-user">Username:</label>
            <input type="text" id="connection-user" placeholder="postgres" required>
          </div>
          
          <div class="form-group">
            <label for="connection-password">Password:</label>
            <input type="password" id="connection-password" placeholder="********" required>
          </div>
          
          <div class="form-actions">
            <button type="submit" class="primary-btn">Save Connection</button>
            <button type="button" id="test-connection-btn" class="secondary-btn">Test Connection</button>
            <button type="button" id="delete-connection-btn" class="danger-btn" style="display: none;">Delete Connection</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Modal for AI Configuration -->
    <div id="ai-modal" class="modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Configure AI Models</h2>
        
        <form id="ai-config-form">
          <div class="form-section">
            <h3>OpenAI Configuration</h3>
            
            <div class="form-group">
              <label for="openai-api-key">API Key:</label>
              <input type="password" id="openai-api-key" placeholder="sk-...">
            </div>
            
            <div class="form-group">
              <label for="openai-model">Model:</label>
              <select id="openai-model">
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                <option value="gpt-4">GPT-4</option>
                <option value="gpt-4-turbo">GPT-4 Turbo</option>
              </select>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Claude Configuration</h3>
            
            <div class="form-group">
              <label for="claude-api-key">API Key:</label>
              <input type="password" id="claude-api-key" placeholder="sk-...">
            </div>
            
            <div class="form-group">
              <label for="claude-model">Model:</label>
              <select id="claude-model">
                <option value="claude-3-opus-20240229">Claude 3 Opus</option>
                <option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option>
                <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
              </select>
            </div>
          </div>
          
          <div class="form-actions">
            <button type="submit" class="primary-btn">Save Configuration</button>
          </div>
        </form>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
